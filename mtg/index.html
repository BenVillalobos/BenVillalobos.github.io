<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Card Generator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script>
        var allCards;
        var keys;
        function loadJSON(callback) {
            $.getJSON('http://benvillalobos.com/mtg/AllCards-x.json', function (json) {
                allCards = json;
                keys = Object.keys(allCards);
                callback();
            });

        }

        function getRandomCard() {
            return allCards[keys[keys.length * Math.random() << 0]];
        }

        function displayRandomCard() {
            var randomCard = getRandomCard();
            var cardElement = $('#card');
            var name = randomCard['name'];
            var cost = randomCard['manaCost'];
            var type = randomCard['type'];
            var power = randomCard['power'];
            var toughness = randomCard['toughness'];
            var set = randomCard['printings'][0];
            //randomCard['subtypes'].map( function asd() { console.log('sup');} );
            cardElement.append(`<div>
            <p>` + name + ' ' + cost + `</p>
            <p>` + type + ' ' + set + `</p>
            <p>` + power + `</p>
            <p>` + toughness + `</p>
            </div>`);
            console.log(randomCard);
        }

        window.onload = function() {
            loadJSON(displayRandomCard);
        }
    </script>
</head>

<body>
    <div id='card'> </div>
</body>

</html>